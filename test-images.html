<!DOCTYPE html>
<html>
<head>
    <title>Проверка изображений</title>
    <script>
        function checkImages() {
            const images = JSON.parse(localStorage.getItem('massageImages') || '{}');
            console.log('Все изображения:', images);
            
            // Проверяем каждую категорию
            Object.keys(images).forEach(category => {
                console.log(Категория :, images[category].length, 'изображений');
                images[category].forEach(img => {
                    console.log('- Имеет data:', !!img.data, 'Имеет optimized:', !!img.optimized);
                });
            });
        }
        
        function checkStorage() {
            const size = new Blob(Object.values(localStorage)).size / 1024 / 1024;
            console.log('Размер localStorage:', size.toFixed(2), 'MB');
        }
    </script>
</head>
<body>
    <h2>Проверка системы изображений</h2>
    <button onclick="checkImages()">Проверить изображения</button>
    <button onclick="checkStorage()">Проверить размер хранилища</button>
    <button onclick="localStorage.removeItem('massageImages'); alert('Изображения удалены!')">Очистить изображения</button>
</body>
</html>
